<html>

<head>
    <meta charset="UTF-8">
    <meta name="description" content="Slotted Aloha Demonstration">
    <meta name="keywords" content="HTML, CSS, JavaScript">
    <meta name="author" content="Carbowix">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./assets/style.css">
</head>

<body>
    <div class="container">
        <div id="startMenu">
            <div class="containerItem">
                <h2>Slotted Aloha</h2>
                <h3>Live Visualization with custom parameters</h3>
            </div>
            <div class="containerItem">
                <h4>Enter the following:</h4>
                â€‹<form class="formParameters">
                    <div>
                        <label for="clients">No. of Clients:</label>
                        <input type="number" id="clients_n" name="clients" value="3">
                    </div>
                    <div>
                        <label for="timeslots">No. of Timeslots:</label>
                        <input type="number" id="timeslots_n" name="timeslots" value="10">
                    </div>
                    <div>
                        <label for="trans_prob">Transmission Probability:</label>
                        <input type="number" id="trans_n" name="trans_prob" value="0.3">
                    </div>
                    <div>
                        <label for="retrans_prob">Re-transmission Probability: </label>
                        <input type="number" id="retrans_n" name="retrans_prob" value="0.15">
                    </div>
                </form>
            </div>
            <div class="containerItem decisionArea">
                <button onclick="loadAloha();" class="startBtn">Start</button>
            </div>
        </div>
        <div id="visual">
            <div style="width: 50%; height: 10%; display:flex; flex-direction: column; justify-content:center; color: white;"
                class="containerItem">
                <div>
                    <h3>Timeline</h3>
                    <hr>
                </div>
            </div>
            <div class="containerItem tableArea">
                <div>
                    <table style="border-collapse:collapse; width: 100%;">
                        <thead>
                            <tr id="timelineHeader">
                                <th></th>
                                <th class="timeSlot">
                                    1
                                </th>
                                <!--
                            <th class="timeSlot">
                                2
                            </th>
                            -->
                            </tr>
                        </thead>
                        <tbody id="timelineBody">
                            <tr>
                                <td>
                                    <div>CLIENT#1</div>
                                </td>
                                <td style="background-color: #e74c3c; text-align: center;">
                                    <div>
                                        Packet #ID 1
                                    </div>
                                    <div>Attempt: 1</div>
                                </td>
                                <!--
                            <td style="background-color: green; text-align: center;">
                                <div>
                                    Packet #ID 2
                                </div>
                                <div>Attempt: 1</div>
                            </td>
                            -->
                            </tr>
                            <tr>
                                <td>
                                    <div>CLIENT#1</div>
                                </td>
                                <td id="timelinePacket" style="background-color: #e74c3c; text-align: center;">
                                    <div>
                                        Packet #ID 1
                                    </div>
                                    <div>Attempt: 1</div>
                                </td>
                                <!--
                            <td style="background-color: green; text-align: center;">
                                <div>
                                    Packet #ID 2
                                </div>
                                <div>Attempt: 1</div>
                            </td>
                            -->
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div style="width: 50%; height: 10%; display:flex; flex-direction: column; justify-content:center; color: white;"
                    class="containerItem">
                    <div>
                        <h3>Status</h3>
                        <hr>
                    </div>
                </div>
                <div>
                    <table style="border-collapse:collapse; width: 100%;">
                        <thead>
                            <tr id="statusHeader">
                                <th></th>
                                <th class="timeSlot">
                                    CLIENT #1
                                </th>
                                <!--
                            <th class="timeSlot">
                                2
                            </th>
                            -->
                            </tr>
                        </thead>
                        <tbody>
                            <tr id="statusAttempted">
                                <td>
                                    <div>Attempted</div>
                                </td>
                                <td style="background-color: darkgray; text-align: center;">
                                    <div>
                                        0
                                    </div>
                                </td>
                                <!--
                            <td style="background-color: green; text-align: center;">
                                <div>
                                    Packet #ID 2
                                </div>
                                <div>Attempt: 1</div>
                            </td>
                            -->
                            </tr>
                            <tr id="statusSuccess">
                                <td>
                                    <div>Success</div>
                                </td>
                                <td style="background-color: #fff; text-align: center;">
                                    <div>
                                        0
                                    </div>
                                </td>
                                <!--
                            <td style="background-color: green; text-align: center;">
                                <div>
                                    Packet #ID 2
                                </div>
                                <div>Attempt: 1</div>
                            </td>
                            -->
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div style="color: white;" class="containerItem">
                <h3>Statistics</h3>
                <hr>
                <div style="display: flex; gap: 0vh; flex-direction:column; text-align: left;">
                    <div>
                        <h4>Total Attempted Transmits: <span id="totalATransmits">0</span></h4>
                    </div>
                    <div>
                        <h4>Total Success Transmits: <span id="totalSTransmits">0</span></h4>
                    </div>
                    <div>
                        <h4>Total Collisions: <span id="totalCTransmits">0</span></h4>
                    </div>
                    <div>
                        <h4>Probability of success transmit (Per node): <span id="probSTransmit">0</span></h4>
                    </div>
                    <div>
                        <h4>Probability of success transmit (Any node): <span id="probATransmit">0</span></h4>
                    </div>
                    <div>
                        <h4>Efficiency: <span id="eff">0</span></h4>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="./assets/jquery.min.js" type="text/javascript"></script>
    <script src="./assets/index.js" type="text/javascript"></script>
</body>

</html>